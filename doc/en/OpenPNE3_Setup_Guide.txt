How to Install OpenPNE 3.4.x
============================

Getting Started
---------------

This document is for OpenPNE 3.4.x.

OpenPNE 3 should work under the following server environment.

Web Server
  Apache
    * The "mod_rewrite" module must be enabled
PHP
  PHP version is >= 5.2.3
    * The "mbstring" module must be enabled
    * The "xml" module must be enabled
    * The "PCRE" module must be enabled (That must be support UTF-8)
    * The "PDO" module must be enabled (It must contains DBMS drivers that you want to use)
    * The "JSON" module must be enabled
    * The GD library must be usable from PHP (That must be support JPEG, GIF and PNG)
    * The "mcrypt" module should be enabled
    * The "APC" module should be enabled
Database Server
  MySQL4.1+ (Recommended 5.1)
  
  PostgreSQL and SQLite are not now supported (They will be supported in the future)

Download Package and Install It
-------------------------------

Upload source files
~~~~~~~~~~~~~~~~~~~

Please download a package of OpenPNE 3.4.x from the following URL.

3.4.x
  http://github.com/openpne/OpenPNE3/downloads

And unzip the zip file.

Or clone OpenPNE 3.4.x source files.

::

  $ git clone git://github.com/openpne/OpenPNE3.git
  $ cd OpenPNE3
  $ git checkout ${OpenPNE-3.4.x}

Setting Files
~~~~~~~~~~~~~

Set the files to be the following structure:

::

  ./
  +-- LICENSE
  +-- NOTICE
  +-- apps/
  +-- cache/
  +-- config/
  +-- data/
  +-- doc/
  +-- lib/
  +-- log/
  +-- plugins/
  +-- symfony
  +-- test/
  
  (It can be accessable from web browser)
  +-- web/  (This directory name can be changed)
      +-- index.php
      +-- js/
      +-- mobile_frontend.php
      +-- pc_backend.php
        :

Setting the HTTP proxy
~~~~~~~~~~~~~~~~~~~~~~

If you want to use HTTP proxy, change the "http_proxy" configuration in your "config/OpenPNE.yml".

::

  http_proxy: "example.com:8080"

Executing Install Command
~~~~~~~~~~~~~~~~~~~~~~~~~

Execute the following command to begin installing process.

::

  $ ./symfony openpne:install
 
If you execute the command, you will be required inputing the following:

*  DBMS (mysql, pgsql or sqlite, but we are now only support MySQL)
*  Database Username
*  Database Password
*  Database Hostname
*  (If you inputed "MySQL" for the DBMS and "localhost" for the hostname, ) Database Socket Path

Installing will be started automatically based on your inputted information.

Delete the development files
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

::

  $ ./symfony project:clear-controllers

Configuring mod_rewrite
~~~~~~~~~~~~~~~~~~~~~~~

Configure the RewriteBase setting in your web/.htaccess for your environment (It may not be needed).

::

  RewriteBase /                            # Or /web

RewriteBase is must be absoulte path of URL.

Access from Web Browser (PC)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

(1) Access http://example.com/index.php
(2) Input sns@example.com / password to login form, and make sure you to log in

You must change the default email address and password.

Access form Web Browser (Backend)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

(1) Access http://example.com/pc_backend.php
(2) Input admin / password to login form, and make sure you to log in

You must change the default account and password.
